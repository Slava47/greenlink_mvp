# GreenLink — MVP соцсеть для волонтёров (Flask + SQLite)

Это минимально жизнеспособная версия веб-платформы для волонтеров:
- Мероприятия и задания
- Заявки волонтёров
- Отчёты с файлом (опционально)
- Начисление баллов после принятия отчёта
- Регистрация/вход
- Роли: **admin**, **organizer**, **volunteer**
- Админ-панель: учебные заведения, пользователи (роль/предупреждения/блок), модерация отчётов
- Организатор: создание мероприятий/заданий
- Организатор/админ: редактирование/удаление мероприятий и заданий
- Организатор/админ: подтверждение/отклонение заявок

---

## Быстрый старт (локально, без Docker)

### 1) Установить зависимости
```bash
python -m venv .venv
# Windows: .venv\Scripts\activate
source .venv/bin/activate

pip install -r requirements.txt
```

### 2) Запустить
```bash
python -m app
```

Сайт будет доступен: http://127.0.0.1:8000

### Тестовые данные
При первом запуске создаётся база `./data/app.db` и тестовые записи.

Тестовые аккаунты:
- admin / admin (роль admin)
- org1 / org1 (роль organizer)
- vol1 / vol1 (роль volunteer)
- vol2 / vol2 (роль volunteer)

> Если нужно отключить автозасев, установите переменную окружения:
> `SEED_ON_FIRST_RUN=0`

---

## Запуск в Docker (VPS)

### 1) Собрать образ
```bash
docker build -t greenlink:latest .
```

### 2) Запустить контейнер
```bash
docker run -d \
  --name greenlink \
  -p 8000:8000 \
  -v $(pwd)/data:/app/data \
  greenlink:latest
```

Открыть: `http://<IP_СЕРВЕРА>:8000`

---

## Переменные окружения

- `SECRET_KEY` — секрет для сессий (обязательно поменять на VPS)
- `DB_PATH` — путь к SQLite базе (по умолчанию `./data/app.db` локально и `/app/data/app.db` в Docker)
- `SEED_ON_FIRST_RUN` — `1` / `0` (по умолчанию `1`)
